define("info/index",function(a,o,e){var i=a("components/jquery/jquery"),n=a("components/config/config"),c=(a("components/cookie/cookie"),a("common/common")),t={init:function(){t.getInfo(),i("#accountSave").click(function(){t.validate("account")}),i("#alipaySave").click(function(){t.validate("alipay")}),t.modify()},getInfo:function(){c.hasUserCookie(function(a){""!=a.alipay&&null!=a.alipay&&void 0!=a.alipay?(i("#alipayModify").removeClass("hidden"),i("#alipay").val(a.alipay)):(i("#alipay").removeAttr("disabled"),i("#alipaySave").removeClass("hidden")),""!=a.account&&null!=a.account&&void 0!=a.account?(i("#accountModify").removeClass("hidden"),i("#userName").val(a.userName),i("#account").val(a.account),i("#openBank").val(a.openBank)):(i("#userName,#account,#openBank").removeAttr("disabled"),i("#accountSave").removeClass("hidden"))})},modify:function(){i("#accountModify").click(function(){i("#accountForm").find("input").removeAttr("disabled"),i("#accountForm #accountModify").hide(),i("#accountForm #accountSave").show().removeClass("hidden")}),i("#alipayForm").click(function(){i("#alipayForm").find("input").removeAttr("disabled"),i("#alipayForm #alipayModify").hide(),i("#alipayForm #alipaySave").show().removeClass("hidden")})},validate:function(a){var o={};if("account"===a){var e=i("#userName").val(),n=i("#account").val(),c=i("#openBank").val();if(!(e&&n&&c))return layer.msg("请将信息填写完整！"),!1;o={userName:e,account:n,openBank:c}}else if("alipay"===a){var l=i("#alipay").val();if(!l)return layer.msg("请将信息填写完整！"),!1;o={alipay:l}}t.postParame(o,a)},postParame:function(a,o){c.ajax("post",n.infoUpdate,a,function(a){i.cookie("user",JSON.stringify(a.user),{path:"/",expires:10}),t.requestCallback(o)})},requestCallback:function(a){"account"===a?(i("#userName,#account,#openBank").attr("disabled","disabled"),i("#accountModify").show(),i("#accountSave").hide()):"alipay"===a&&(i("#alipay").attr("disabled","disabled"),i("#alipayModify").show(),i("#alipaySave").hide())}};e.exports=t});