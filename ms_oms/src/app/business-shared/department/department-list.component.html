<div class="c-content-inner">

  <ngb-tabset (tabChange)="onTabChange($event)">
    <ngb-tab id="{{types[0].type}}">
      <ng-template ngbTabTitle>公司</ng-template>
      <ng-template ngbTabContent>
        <div class="formSearch">
          <div class="row">
            <div class="form-inline form-margin">
              <div class="form-group" *ngIf="!isSuperAdminUser && !isAdminUser">
                <button class="btn btn-danger" (click)="save()"><i class="fa fa-plus fa-fw"></i> 新增</button>
              </div>
            </div>
            <div class="form-inline form-margin">
              <div class="form-group">
                <label class="col-form-label">名称：</label>
                <div class="noPadding">
                  <input type="text" class="form-control" [(ngModel)]="searchCname" placeholder="请输入名称..." (keyup.enter)="search()" />
                </div>
              </div>
              <div class="form-group">
                <button class="btn btn-primary" (click)="search()"><i class="fa fa-search fa-fw"></i> 查询</button>
                <button class="btn btn-success" (click)="clear()"><i class="fa fa-refresh fa-fw"></i> 重置</button>
              </div>
            </div>
          </div>
        </div>
        <table class="table table-bordered">
          <thead>
          <tr>
            <th class="text-center">公司</th>
            <th class="text-center">创建时间</th>
            <th class="text-center" *ngIf="!isSuperAdminUser && !isAdminUser">操作</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of dataList;let i = index" [ngClass]="{'grey':i%2===1}">
            <td class="text-center">{{data.name}}</td>
            <td class="text-center">{{data.createTime | date:'y-MM-dd HH:mm:ss'}}</td>
            <td class="text-center" *ngIf="!isSuperAdminUser && !isAdminUser">
              <button class="btn btn-success btn-sm" (click)="save(data)"><i class="fa fa-pencil fa-fw"></i> 修改</button>
              <button class="btn btn-danger btn-sm" (click)="delete(data.id,types[0].type)"><i class="fa fa-trash-o fa-fw"></i> 删除</button>
            </td>
          </tr>
          </tbody>
          <tbody *ngIf="dataList.length === 0">
          <tr>
            <td colspan="3" class="text-center"><h1>暂无数据</h1></td>
          </tr>
          </tbody>
        </table>
        <c-pagination *ngIf="dataList.length > 0" [pageSize]="options.rows" [(total)]="options.total" (pageChange)="onPageChanged($event)" [collectionSize]="options.pageCount" [(page)]="options.page" [total]="options.total" [boundaryLinks]="true"></c-pagination>
      </ng-template>
    </ngb-tab>
    <ngb-tab id="{{types[1].type}}">
      <ng-template ngbTabTitle>部门</ng-template>
      <ng-template ngbTabContent>
        <div class="formSearch">
          <div class="row">
            <div class="form-inline form-margin" *ngIf="!isAdminUser">
              <div class="form-group">
                <button class="btn btn-danger" (click)="save()"><i class="fa fa-plus fa-fw"></i> 新增</button>
              </div>
            </div>
            <div class="form-inline form-margin">
              <div class="form-group">
                <label class="col-form-label">名称：</label>
                <div class="noPadding">
                  <input type="text" class="form-control" [(ngModel)]="searchDname" placeholder="请输入名称..." (keyup.enter)="search()" />
                </div>
              </div>
              <div class="form-group">
                <button class="btn btn-primary" (click)="search()"><i class="fa fa-search fa-fw"></i> 查询</button>
                <button class="btn btn-success" (click)="clear()"><i class="fa fa-refresh fa-fw"></i> 重置</button>
              </div>
            </div>
          </div>
        </div>
        <table class="table table-bordered">
          <thead>
          <tr>
            <th class="text-center">公司</th>
            <th class="text-center">部门</th>
            <th class="text-center">创建时间</th>
            <th class="text-center" *ngIf="!isAdminUser">操作</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of dataList;let i = index" [ngClass]="{'grey':i%2===1}">
          <td class="text-center">{{data.cname}}</td>
            <td class="text-center">{{data.name}}</td>
            <td class="text-center">{{data.createTime | date:'y-MM-dd HH:mm:ss'}}</td>
            <td class="text-center" *ngIf="!isAdminUser">
              <button class="btn btn-success btn-sm" (click)="save(data)"><i class="fa fa-pencil fa-fw"></i> 修改</button>
              <button class="btn btn-danger btn-sm" (click)="delete(data.id,types[1].type)"><i class="fa fa-trash-o fa-fw"></i> 删除</button>
            </td>
          </tr>
          </tbody>
          <tbody *ngIf="dataList.length === 0">
          <tr>
            <td colspan="4" class="text-center"><h1>暂无数据</h1></td>
          </tr>
          </tbody>
        </table>
        <c-pagination *ngIf="dataList.length > 0" [pageSize]="options.rows" [(total)]="options.total" (pageChange)="onPageChanged($event)" [collectionSize]="options.pageCount" [(page)]="options.page" [boundaryLinks]="true"></c-pagination>
      </ng-template>
    </ngb-tab>
    <ngb-tab id="{{types[2].type}}">
      <ng-template ngbTabTitle>职位</ng-template>
      <ng-template ngbTabContent>
        <div class="formSearch">
          <div class="row">
            <div class="form-inline form-margin" *ngIf="!isAdminUser">
              <div class="form-group">
                <button class="btn btn-danger" (click)="save()"><i class="fa fa-plus fa-fw"></i> 新增</button>
              </div>
            </div>
            <div class="form-inline form-margin">
              <div class="form-group">
                <label class="col-form-label">名称：</label>
                <div class="noPadding">
                  <input type="text" class="form-control" [(ngModel)]="searchJname" placeholder="请输入名称..." (keyup.enter)="search()" />
                </div>
              </div>
              <div class="form-group">
                <button class="btn btn-primary" (click)="search()"><i class="fa fa-search fa-fw"></i> 查询</button>
                <button class="btn btn-success" (click)="clear()"><i class="fa fa-refresh fa-fw"></i> 重置</button>
              </div>
            </div>
          </div>
        </div>
        <table class="table table-bordered">
          <thead>
          <tr>
            <th class="text-center">公司</th>
            <th class="text-center">部门</th>
            <th class="text-center">职位</th>
            <th class="text-center">创建时间</th>
            <th class="text-center" *ngIf="!isAdminUser">操作</th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let data of dataList;let i = index">
            <td class="text-center">{{data.cname}}</td>
            <td class="text-center">{{data.dname}}</td>
            <td class="text-center">{{data.name}}</td>
            <td class="text-center">{{data.createTime | date:'y-MM-dd HH:mm:ss'}}</td>
            <td class="text-center" *ngIf="!isAdminUser">
              <button class="btn btn-success btn-sm" (click)="save(data)"><i class="fa fa-pencil fa-fw"></i> 修改</button>
              <button class="btn btn-danger btn-sm" (click)="delete(data.id,types[2].type)"><i class="fa fa-trash-o fa-fw"></i> 删除</button>
            </td>
          </tr>
          </tbody>
          <tbody *ngIf="dataList.length === 0">
          <tr>
            <td colspan="5" class="text-center"><h1>暂无数据</h1></td>
          </tr>
          </tbody>
        </table>
        <c-pagination *ngIf="dataList.length > 0" [pageSize]="options.rows" [(total)]="options.total" (pageChange)="onPageChanged($event)" [collectionSize]="options.pageCount" [(page)]="options.page" [boundaryLinks]="true"></c-pagination>
      </ng-template>
    </ngb-tab>
  </ngb-tabset>
</div>
